[
  {
    "category": "code-quality",
    "description": "Fix TypeScript errors in test files",
    "steps": [
      "Add missing Badge properties (key, description, category, rarity, threshold) in prophecies/[id]/route.test.ts",
      "Add missing ratingsOnResolved property to UserStats mocks in users/[id]/route.test.ts",
      "Fix typo 'oderId' -> 'orderId' in badge-service.test.ts",
      "npx tsc --noEmit passes without errors"
    ],
    "passes": true
  },
  {
    "category": "code-quality",
    "description": "Remove unused variables (ESLint warnings)",
    "steps": [
      "Remove unused BadgeWithEarnedAt import in UserProfileModal.tsx",
      "Remove unused type imports (ProphecySelect, RatingWithProphecySelect, RoundSelect) in badge-service.test.ts",
      "Remove or use unused 'result' variables in badge-service.test.ts",
      "Remove unused 'include' variable in badge-service.test.ts",
      "npm run lint shows 0 warnings"
    ],
    "passes": true
  },
  {
    "category": "code-quality",
    "description": "Clean up debug console.log statements",
    "steps": [
      "Review console.logs in auth/login/verify/route.ts - remove or replace with proper logger",
      "Remove placeholder console.log in forgot-password/page.tsx",
      "Keep intentional SSE debug logs but consider adding a debug flag",
      "Keep bot logging but consider adding a debug flag or proper logger"
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Badge für Passkey-Login Nutzer",
    "steps": [
      "Neue Badge definieren (z.B. 'Sicherheitsprofi' oder 'Passkey Pioneer')",
      "Badge-Kriterien: User hat mindestens einen Passkey registriert und nutzt ihn zum Login",
      "Badge-Service erweitern um Passkey-Nutzung zu erkennen",
      "Badge in der Badge-Übersicht anzeigen",
      "Tests für die neue Badge-Logik schreiben"
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Setting für Animationen deaktivieren",
    "steps": [
      "Neues User-Setting 'animationsEnabled' (default: true) in der Datenbank",
      "API-Endpoint für User-Settings erweitern",
      "Toggle im Profil-Bereich hinzufügen",
      "CSS/Framer-Motion Animationen conditionally disablen basierend auf Setting",
      "prefers-reduced-motion Media Query als Fallback berücksichtigen",
      "Setting im UserStore verfügbar machen"
    ],
    "passes": true
  },
  {
    "category": "ui",
    "description": "Prophezeiung Modal und Textarea vergrößern",
    "steps": [
      "Textarea für Prophezeiung-Beschreibung höher machen (mehr Zeilen sichtbar)",
      "Modal bei Desktop-Auflösung breiter machen (responsive)",
      "Mobile-Ansicht unverändert lassen oder proportional anpassen"
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Textformatierung in Beschreibungen",
    "steps": [
      "Zeilenumbrüche und Leerzeilen erhalten bleiben (max 1 Leerzeile)",
      "Zeilen trimmen damit Leerzeichen/Tabs nicht als 'nicht leer' zählen",
      "Text zwischen *...* fettgedruckt darstellen (Sterne entfernen)",
      "Text zwischen _..._ unterstrichen darstellen (Unterstriche entfernen)",
      "Text zwischen -...- durchgestrichen darstellen (Bindestriche entfernen)",
      "Formatierung nur zeilenweise - keine Formatierung über Zeilenumbrüche hinweg",
      "Zeilen mit ungerader Anzahl * oder - die mit * oder - beginnen als Bulletpoint-Liste darstellen",
      "Parser-Komponente erstellen die diese Regeln umsetzt",
      "Komponente in allen Beschreibungs-Anzeigen verwenden (Prophezeiungen, Runden, etc.)",
      "Tests für alle Formatierungsregeln schreiben"
    ],
    "passes": true
  },
  {
    "category": "bugfix",
    "description": "Connection Indicator wieder sichtbar machen",
    "steps": [
      "Analyse: Wo ist der Connection Indicator implementiert?",
      "Analyse: Welche CSS-Änderungen haben die Sichtbarkeit beeinflusst?",
      "Analyse: Z-Index, Opacity, Position prüfen",
      "Fix implementieren um Sichtbarkeit wiederherzustellen",
      "Sicherstellen dass der Indicator in allen Zuständen (connected, disconnected, reconnecting) sichtbar ist"
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Badge-Gruppierung nach Seltenheit im Benutzerprofil",
    "steps": [
      "Badges im Profil nach Seltenheit (rarity) gruppieren",
      "Sammelbadges (die höchste Badge einer Serie anzeigen) wie die höchste Badge behandeln",
      "Als zweites Sortierkriterium das earnedAt-Datum verwenden (innerhalb jeder Seltenheits-Gruppe)",
      "UI-Anpassung: Badges gruppiert anzeigen (z.B. mit Sections oder visuellen Trennern)",
      "Tests für die neue Sortierlogik schreiben"
    ],
    "passes": true
  },
  {
    "category": "feature",
    "description": "Reset-Button für aufgelöste Prophezeiungen",
    "steps": [
      "API-Endpoint erstellen/erweitern um den Auflösungsstatus einer Prophezeiung zurückzusetzen (fulfilled/unfulfilled → offen)",
      "Berechtigung prüfen: Nur der Admin (oder wer die Prophezeiung aufgelöst hat) darf zurücksetzen",
      "Reset-Button in der Prophezeiung-Detailansicht anzeigen, wenn die Prophezeiung bereits aufgelöst wurde",
      "Button visuell als sekundäre/destruktive Aktion gestalten (z.B. Bestätigungsdialog)",
      "Beim Reset: Auflösungsstatus entfernen, zugehörige Daten (z.B. Bewertungen) berücksichtigen",
      "SSE-Event senden damit andere Clients den Reset mitbekommen",
      "Tests für API-Endpoint und Reset-Logik schreiben"
    ],
    "passes": false
  }
]
